<!DOCTYPE HTML>
<!--
	Linear by TEMPLATED
    templated.co @templatedco
    Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Linear by TEMPLATED</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,700,500,900' rel='stylesheet' type='text/css'>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-panels.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel-noscript.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
		
		 <style>

    .ui-content{
     height: 10px;
    }
    text {
     fill: #333;
     font-size: 12px; }

    .svg{
     margin-top: -250px;
    }
    .background {
     fill: none;
     pointer-events: all; }
    .unit {
     cursor: pointer;
     fill: #ccc;
     stroke: #000;
     stroke-width: 0.4px; }

    .legend-bg {
     fill: #fff;
     fill-opacity: 0.8;

    }

    .legend-bar {
     stroke: #333;
     stroke-width: 1px; }

    #radio {
     font-size: 25px;
    }
     #slider7 {
     margin: 20px 0 10px 158px;
     width: 900px;

    }



    </style>
		
	</head>
	<body>

	<!-- Header -->
		<div id="header">
			<div id="nav-wrapper"> 
				<!-- Nav -->
				<nav id="nav">
					<ul>
						<li class = "active"><a href="index.html">Home</a></li>
						<li><a href="time.html">TIMELINES</a></li>
						
						<li><a href="Choropleth.html">CHOROPLETH</a></li>
						<li><a href="heat_map.html">HEATMAP</a></li>
						<li><a href="cyctest.html">Circular Heatmap</a></li>
						<li><a href="wordcloud.html">Word Cloud</a></li>
						<li><a href="parallel.html">Parallel axis</a></li>
					</ul>
				</nav>
			</div>
			<div class="container"> 
				
				<!-- Logo -->
				<div id="logo">
					<h1><a href="#">VIZEASES</a></h1>
					<span class="tag">Re-emergance of Whooping Cough</span>
				</div>
			</div>
		</div>
	<!-- Header --> 

	<!-- Main -->
		<div id="main">
			<div id="content" class="container">
				<section>
					<header>
						<h2>Choropleth</h2>
						<span class="byline">United States Whooping Cough Cases by Decade</span>
					</header>
					
					<p>The color of each state indicates the number of cases for that state in the selected decade. The decade can be changed through the slider at the top of the visualization.</p>
						

    <meta charset="utf-8">

    <link href="css/d3.slider.css" rel="stylesheet">

    <script src="js/d3.geomap.dependencies.min.js"></script>
    <script src="js/d3.geomap.min.js"></script>
    <div id="slider7"></div>

    <div id="map" style="margin-top:-20px;height:150">
    </div>
    <!-- <script src="http://d3js.org/d3.v3.min.js"></script> -->
    <script src="js/d3.slider.js">
    </script>
    <script>

          var value;
          var year, unitId, scale, legend;

          var geofile=d3.geomap.choropleth().geofile('json/USA.json');
          var projection=geofile.projection(d3.geo.albersUsa);
          year=projection.column('1940');
          unitId=year.unitId('fips');
          scale=unitId.scale(1000);
          legend=scale.legend(true);

              d3.csv('csv/decades.csv', function(error, data) {
              d3.select('#map')
                  .datum(data)
                  .call(geofile.draw,geofile);
              });

          var slider =  d3.select('#slider7')
                        .call(d3.slider()
                            .axis(true)
                            .min(1940)
                            .max(2010)
                            .step(10)
                            .on("slide", function(evt, value) {
                               d3.select('#map').selectAll("svg").remove();
                                year=projection.column(value);
                                console.log("The slider's current value is:" + value);
                                unitId=year.unitId('fips');
                                scale=unitId.scale(1000);
                                legend=scale.legend(true);

                                    d3.csv('csv/decades.csv', function(error, data) {
                                    d3.select('#map')
                                        .datum(data)
                                        .call(geofile.draw,geofile);
                                    });

                              }));




    </script>
	</section>
					</div>

					<!-- Sidebar -->
					
					
				</div>
			</div>
		</div>
	<!-- /Main -->

	<!-- Tweet -->
		
	<!-- /Tweet -->

	<!-- Footer -->
		<div id="footer">
			<div class="container">
				<section>
					<header>
						<h2>Contributors</h2>
						
					
					<ul class="byline">
						<li><span>Venkatesh Duvvuri</span></li>
						<li><span>BharathKumar Inbasekaran</span></li>
						<li><span>Setareh Sarachi</span></li>
						<li><span>Sarah Vinski</span></li>
					</ul>
					</header>
				</section>
			</div>
		</div>
	<!-- /Footer -->

	<!-- Copyright -->
		<div id="copyright">
			<div class="container">
				Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
			</div>
		</div>


	</body>
</html>
	

